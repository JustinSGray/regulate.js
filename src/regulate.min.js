void 0===this.jQuery&&(this.jQuery={}),function(a,b,c){"use strict";function m(a){var d=c(a).serializeArray(),e=c(a).find("input[type=file]"),f=[];return e.each(function(){var a,b,c=this.name;this.files.length>0?(a=this.files[0].size,b=this.files[0].type):(a=0,b=""),f.push({name:c,value:a,fileType:b,files:this.files})}),b.each(f,function(a){d.push(a)}),d}var d,e,f,g,h,i,j,k,l;d={language:"en"},l={niceBytes:function(a){var b,c=["bytes","KB","MB","GB","TB"];return 0===a?"0 bytes":(b=parseInt(Math.floor(Math.log(a)/Math.log(1024)),10),0===b?a+" "+c[b]:(a/Math.pow(1024,b)).toFixed(1)+" "+c[b])}},e={max_length:function(a,b){return b.max_length?a.length<=b.max_length:!1},min_length:function(a,b){return b.min_length?a.length>=b.min_length:!1},exact_length:function(a,b){return b.exact_length?a.length===b.exact_length:!1},email:function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)},match_field:function(a,c,d){var e,f=!1;return c.match_field&&(e=c.match_field,b.each(d,function(b){b.name===e&&(f=b.value===a)})),f},min_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length>=c[a]},max_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length<=c[a]},exact_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length===c[a]},min_checked:function(a,b,c){return this.min_count("min_checked",b,c)},exact_checked:function(a,b,c){return this.exact_count("exact_checked",b,c)},max_checked:function(a,b,c){return this.max_count("max_checked",b,c)},min_selected:function(a,b,c){return this.min_count("min_selected",b,c)},exact_selected:function(a,b,c){return this.exact_count("exact_selected",b,c)},max_selected:function(a,b,c){return this.max_count("max_selected",b,c)},max_size:function(a,b){return a<=b.max_size},accepted_files:function(a,c,d){var e,f,g,h=c.accepted_files;if(f=b.filter(d,function(a){return a.name===c.name}),!(f.length>0&&f[0].fileType&&h))return!1;for(f=f[0],h=h.toLowerCase().trim().split("|"),g=f.fileType,e=0;e<h.length;e+=1)if(g.indexOf(h[e].trim())>-1)return!0;return!1}},k={required:function(a){var c,d;return c=a.charAt(a.length-1),d="s"===c?"are":"is",a+" "+d+" required."},email:function(a){return a+" must be a valid email."},match_field:function(a,b,c){var d,e,f;return f=b.match_field,d=c[f].display_as||f,e=b.display_as||b.name,e+" must match "+d},max_length:function(a,b){var c=b.max_length;return a+" must have a maximum length of "+c+"."},min_length:function(a,b){var c=b.min_length;return a+" must have a minimum length of "+c+"."},exact_length:function(a,b){var c=b.exact_length;return a+" must have an exact length of "+c+"."},min_checked:function(a,b){var c,d;return c=b.min_checked,d="Check atleast "+c+" checkbox",d+=1!==c?"es":"."},max_checked:function(a,b){var c,d;return c=b.max_checked,d="Check a maximum of "+c+" checkbox",d+=1!==c?"es":"."},exact_checked:function(a,b){var c,d;return c=b.exact_checked,d="Check exactly "+c+" checkbox",d+=1!==c?"es":"."},min_selected:function(a,b){var c,d;return c=b.min_selected,d="Select atleast "+c+" option",d+=1!==c?"s":"."},max_selected:function(a,b){var c,d;return c=b.max_selected,d="Select a maximum of "+c+" option",d+=1!==c?"s":"."},exact_selected:function(a,b){var c,d;return c=b.exact_selected,d="Select exactly "+c+" option",d+=1!==c?"s":"."},max_size:function(a,b){var c,d;return c=b.max_size,d="File cannot be larger than "+l.niceBytes(c)+"."},accepted_files:function(a,b){var c=b.accepted_files.split("|"),d="Not a valid file type. ";return d+=c.length>1?"Accepted types: "+c.join(", "):"Upload a "+c[0],d+="."}},i={en:k},j={},f={},g=function(a,b){this.name=a,this.cb=void 0,this.errorElems={},this.isBrowser=!1,this.translations={},this.reqs=this.transformReqs(b)},g.prototype.displayErrors=function(a){var d=this;b.each(a,function(a,b){var e,f,g;if(g=d.errorElems[b]||""){for(g=c(g),f=c("<ul></ul>"),e=0;e<a.length;e+=1)c("<li>"+a[e]+"</li>").appendTo(f);f.appendTo(g)}})},g.prototype.notifySubmission=function(a,b){this.cb&&this.cb(a,b)},g.prototype.addTranslation=function(a,b){this.translations[a]=b},g.prototype.addTranslations=function(a){var c=this;b.each(a,function(a,b){c.addTranslation(b,a)})},g.prototype.validate=function(a,c){var g=this,h={},i={};if(!a)throw new Error("Field values must be supplied in order to validate.");c&&(g.cb=c),b.each(a,function(a){var c=a.name,d=a.value;b.isString(d)&&(d=d.trim()),i[c]=i[c]||[],d&&i[c].push(d)}),b.each(g.reqs,function(c,j){var k,l,m,n=[],o=g.translations[d.language];o&&o[j]&&(c.display_as=o[j]),i[j]||(i[j]=[]),k=i[j],m=c.display_as||j,b.isEmpty(k)?(l=b.isObject(c.error)&&c.error.required?c.error.required:f.required(m,c,g.reqs),n.push(l)):b.each(c,function(d,h){"name"!==h&&e.hasOwnProperty(h)&&b.each(k,function(d){var i=e[h](d,c,a);i||(l=b.isObject(c.error)&&c.error[h]?c.error[h]:f[h]?f[h](m,c,g.reqs):h,-1===b.indexOf(n,l)&&n.push(l))})}),n.length>0&&(b.isString(c.error)&&(n=[],n.push(c.error)),h[j]=n)}),b.isEmpty(h)?g.notifySubmission(null,a):(g.isBrowser&&g.displayErrors(h),g.notifySubmission(h,null))},g.prototype.transformReqs=function(a){var f,c=this,e={};return f=this.translations[d.language]={},b.each(a,function(a){var b,h,d={},g=a.name;for(b in a)a.hasOwnProperty(b)&&(h=a[b],"display_error"===b?c.errorElems[g]=h:"display_as"===b?f[g]=h:d[b]=h);a.name&&(e[a.name]=d)}),e},g.prototype.onSubmit=function(d){var e=this;e.cb=d,e.isBrowser=!0,c(a.document).on("submit","#"+e.name,function(a){a.preventDefault(),b.each(e.errorElems,function(a){c(a).html("")});var d=m(this);e.validate(d)})},h=function(a,b){if(h[a])throw new Error(a+"is already being validated");h[a]=new g(a,b)},h.registerRule=function(a,b){if(e[a])throw new Error(a+" is already defined as a rule.");e[a]=b},h.registerMessage=function(a,b){f[a]=b},h.addTranslation=function(a,b){i[a]=b},h.addTranslations=function(a){var c=this;b.each(a,function(a,b){c.addTranslation(b,a)})},h.useTranslation=function(a){if(!i[a])throw new Error(a+" translation not found.");d.language=a,f=i[a],b.each(j,function(a,b){f[b]=a})},h.useTranslation("en"),h.Rules=e,h.Messages=f,h.Translations=i,a.Regulate=h}(this,_,jQuery);