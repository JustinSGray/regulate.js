void 0===this.jQuery&&(this.jQuery={}),function(a,b,c){"use strict";function i(a){var d=c(a).serializeArray(),e=c(a).find("input[type=file]"),f=[];return e.each(function(){var a,b,c=this.name;this.files.length>0?(a=this.files[0].size,b=this.files[0].type):(a=0,b=""),f.push({name:c,value:a,fileType:b,files:this.files})}),b.each(f,function(a){d.push(a)}),d}var d,e,f,g,h;d={format:function(a){var b,c,d=a;for(c=Array.prototype.splice.call(arguments,1),b=0;c.length>b;b+=1)d=d.replace("{"+b+"}",c[b]);return d},niceBytes:function(a){var b,c=["bytes","KB","MB","GB","TB"];return 0===a?"0 bytes":(b=parseInt(Math.floor(Math.log(a)/Math.log(1024)),10),0===b?a+" "+c[b]:(a/Math.pow(1024,b)).toFixed(1)+" "+c[b])}},e={max_length:function(a,b){return b.max_length?a.length<=b.max_length:!1},min_length:function(a,b){return b.min_length?a.length>=b.min_length:!1},exact_length:function(a,b){return b.exact_length?a.length===b.exact_length:!1},email:function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)},match_field:function(a,c,d){var e,f=!1;return c.match_field&&(e=c.match_field,b.each(d,function(b){b.name===e&&(f=b.value===a)})),f},min_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length>=c[a]},max_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length<=c[a]},exact_count:function(a,c,d){if(!c[a])return!1;var e=b.filter(d,function(a){return a.name===c.name});return e.length===c[a]},min_checked:function(a,b,c){return this.min_count("min_checked",b,c)},exact_checked:function(a,b,c){return this.exact_count("exact_checked",b,c)},max_checked:function(a,b,c){return this.max_count("max_checked",b,c)},min_selected:function(a,b,c){return this.min_count("min_selected",b,c)},exact_selected:function(a,b,c){return this.exact_count("exact_selected",b,c)},max_selected:function(a,b,c){return this.max_count("max_selected",b,c)},max_size:function(a,b){return b.max_size>=a},accepted_files:function(a,c,d){var e,f,g,h=c.accepted_files;if(f=b.filter(d,function(a){return a.name===c.name}),!(f.length>0&&f[0].fileType&&h))return!1;for(f=f[0],h=h.toLowerCase().trim().split("|"),g=f.fileType,e=0;h.length>e;e+=1)if(g.indexOf(h[e].trim())>-1)return!0;return!1}},f={required:function(a){var b,c,e;return b="{0} {1} required.",c=a.charAt(a.length-1),e="s"===c?"are":"is",d.format(b,a,e)},email:function(a){var b="{0} must be a valid email.";return d.format(b,a)},match_field:function(a,b,c){var e,f,g,h="{0} must match {1}.";return g=b.match_field,e=c[g].display_as||g,f=b.display_as||b.name,d.format(h,f,e)},max_length:function(a,b){var c="{0} must have a maximum length of {1}.";return d.format(c,a,b.max_length)},min_length:function(a,b){var c="{0} must have a minimum length of {1}.";return d.format(c,a,b.min_length)},exact_length:function(a,b){var c="{0} must have an exact length of {1}.";return d.format(c,a,b.exact_length)},min_checked:function(a,b){var c,e;return c=b.min_checked,e="Check atleast {0} checkbox",e+=1!==c?"es.":".",d.format(e,c)},max_checked:function(a,b){var c,e;return c=b.max_checked,e="Check a maximum of {0} checkbox",e+=1!==c?"es.":".",d.format(e,c)},exact_checked:function(a,b){var c,e;return c=b.exact_checked,e="Check exactly {0} checkboxes",e+=1!==c?"es.":".",d.format(e,c)},min_selected:function(a,b){var c,e;return c=b.min_selected,e="Select atleast {0} option",e+=1!==c?"s.":".",d.format(e,c)},max_selected:function(a,b){var c,e;return c=b.max_selected,e="Select a maximum of {0} option",e+=1!==c?"s.":".",d.format(e,c)},exact_selected:function(a,b){var c,e;return c=b.exact_selected,e="Select exactly {0} option",e+=1!==c?"s.":".",d.format(e,c)},max_size:function(a,b){var c,e;return c=b.max_size,e="File cannot be larger than "+d.niceBytes(c)+"."},accepted_files:function(a,b){var c=b.accepted_files.split("|"),d="Not a valid file type. ";return d+=c.length>1?"Accepted types: "+c.join(", "):"Upload a "+c[0],d+="."}},g=function(a,b){this.name=a,this.cb=void 0,this.errorElems={},this.isBrowser=!1,this.reqs=this.transformReqs(b)},g.prototype.displayErrors=function(a){var d=this;b.each(a,function(a,b){var e,f,g;if(g=d.errorElems[b]||""){for(g=c(g),f=c("<ul></ul>"),e=0;a.length>e;e+=1)c("<li>"+a[e]+"</li>").appendTo(f);f.appendTo(g)}})},g.prototype.notifySubmission=function(a,b){this.cb&&this.cb(a,b)},g.prototype.validate=function(a,c){var d=this,g={},h={};if(!a)throw Error("Field values must be supplied in order to validate.");c&&(d.cb=c),b.each(a,function(a){var c=a.name,d=a.value;b.isString(d)&&(d=d.trim()),h[c]=h[c]||[],d&&h[c].push(d)}),b.each(d.reqs,function(c,i){var j,k,l,m=[];h[i]||(h[i]=[]),j=h[i],b.isEmpty(j)?(l=c.display_as||i,k=f.required(l,c,d.reqs),m.push(k)):b.each(c,function(g,h){"name"!==h&&e.hasOwnProperty(h)&&b.each(j,function(g){var j=e[h](g,c,a);j||(f[h]?(l=c.display_as||i,k=f[h](l,c,d.reqs)):k=h,-1===b.indexOf(m,k)&&m.push(k))})}),m.length>0&&(g[i]=m)}),b.isEmpty(g)?d.notifySubmission(null,a):(d.isBrowser&&d.displayErrors(g),d.notifySubmission(g,null))},g.prototype.transformReqs=function(a){var c=this,d={};return b.each(a,function(a){var b,e={},f=a.name;for(b in a)a.hasOwnProperty(b)&&("display_error"===b?c.errorElems[f]=a[b]:e[b]=a[b]);a.name&&(d[a.name]=e)}),d},g.prototype.onSubmit=function(d){var e=this;e.cb=d,e.isBrowser=!0,c(a.document).on("submit","#"+e.name,function(a){a.preventDefault(),b.each(e.errorElems,function(a){c(a).html("")});var d=i(this);e.validate(d)})},h=function(a,b){if(h[a])throw Error(a+"is already being validated");h[a]=new g(a,b)},h.Rules=e,h.Messages=f,h.registerRule=function(a,b){if(h.Rules[a])throw Error(a+" is already defined as a rule.");h.Rules[a]=b},a.Regulate=h}(this,_,jQuery);